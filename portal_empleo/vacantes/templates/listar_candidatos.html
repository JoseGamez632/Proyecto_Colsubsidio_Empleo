{% extends 'base.html' %}

{% block titulo %} Listar Candidatos {% endblock %}

{% block contenido %}
<div class="container mt-5" title="Lista de candidatos buscar descargar excel">
<h1 class="text-center" title="Lista de candidatos">Lista de Candidatos</h1>
<!-- Barra de bÃºsqueda -->
<form class="mb-3" method="get">
<div class="input-group" title="Buscar descargar excel">
<input class="form-control" name="q" placeholder="Buscar por nombre, apellidos o documento" title="Buscar por nombre, apellidos o documento" type="text" value="{{ query }}"/>
<div class="input-group-append" title="Buscar descargar excel">
<button class="btn btn-primary" title="Buscar" type="submit">Buscar</button>
<a class="btn btn-success" href="{% url 'descargar_excel' %}" title="Descargar excel">Descargar Excel</a>
</div>
</div>
</form>
<!-- Tabla de resultados -->
<table class="table table-striped table-dark">
<thead>
<tr>
<th>#</th>
<th>Nombre Completo</th>
<th>Documento</th>
<th>Fecha Feria</th>
<th>Acciones</th>
</tr>
</thead>
<tbody>
            {% for candidato in candidatos %}
                <tr>
<td>{{ forloop.counter }}</td>
<td>{{ candidato.nombres }} {{ candidato.apellidos }}</td>
<td>{{ candidato.tipo_documento }}: {{ candidato.numero_documento }}</td>
<td>{{ candidato.fecha_feria }}</td>
<td>
<a class="btn btn-warning btn-sm" href="{% url 'editar_candidato' candidato.pk %}" title="Editar">Editar</a>
</td>
</tr>
            {% empty %}
                <tr>
<td class="text-center" colspan="5">No se encontraron candidatos.</td>
</tr>
            {% endfor %}
        </tbody>
</table>
</div>
{% endblock %}
