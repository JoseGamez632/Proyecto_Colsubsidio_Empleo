<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ...existing code... -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- ...existing code... -->
</head>
<body>
    <!-- ...existing code... -->
    <form method="post">
        {% csrf_token %}
        <!-- ...existing code... -->
        <div class="form-row">
            <div class="form-group col-md-6">
                {{ form.formacion_academica.label_tag }}
                {{ form.formacion_academica }}
            </div>
            <div class="form-group col-md-6" id="semestre-grado-field" style="display: none;">
                {{ form.semestre_grado.label_tag }}
                {{ form.semestre_grado }}
            </div>
        </div>
        <!-- ...existing code... -->
        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
    <script>
        $(document).ready(function() {
            function toggleSemestreGradoField() {
                var selectedValue = $('#id_formacion_academica').val();
                var opcionesEstudiante = [
                    'ESTUDIANTE PROFESIONAL',
                    'ESTUDIANTE TECNOLOGO',
                    'ESTUDIANTE TECNICO LABORAL/PROFESIONAL',
                    'ESTUDIANTE BACHILLER ACADEMICO'
                ];
                if (opcionesEstudiante.includes(selectedValue)) {
                    $('#semestre-grado-field').show();
                } else {
                    $('#semestre-grado-field').hide();
                }
            }

            $('#id_formacion_academica').change(function() {
                toggleSemestreGradoField();
            });

            toggleSemestreGradoField(); // Initial check
        });
    </script>
    <!-- ...existing code... -->
</body>
</html>